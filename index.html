<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
</head>
<body style="background-color: black;">
    <div style=" width:50vw; height:50vh;">
    <script>
        let app = new PIXI.Application({width: 674, height:552});
        document.body.appendChild(app.view);

        let img = new PIXI.Sprite.from("morpheus.png");
        img.width = 674;
        img.height = 552;
        app.stage.addChild(img);

        depthMap = new PIXI.Sprite.from("depth.png");
        app.stage.addChild(depthMap);
        
        displacementFilter = new PIXI.filters.DisplacementFilter(depthMap);
        app.stage.filters = [displacementFilter];

        window.onmousemove = function(e) {
        displacementFilter.scale.x = (window.innerWidth / 2 - e.clientX) /50;
        displacementFilter.scale.y = (window.innerHeight / 2 - e.clientY) /50;
        };
    </script>
    </div>
</body>
</html>
